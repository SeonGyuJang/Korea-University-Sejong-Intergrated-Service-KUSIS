# 📅 고급 캘린더 시스템 사용 가이드

## 🎯 개요

Notion 캘린더 수준의 직관적이고 유연한 캘린더 시스템입니다. 모든 상호작용은 빠르고, 직관적이며, 실시간으로 반응합니다.

---

## 🏗️ 시스템 구조

```
┌─────────────────────────────────────────────────────────────────────┐
│                        캘린더 애플리케이션                             │
├──────────────┬──────────────────────────────────┬───────────────────┤
│              │                                  │                   │
│ 좌측         │    메인 캘린더 뷰                │  우측 사이드바    │
│ 네비게이터   │    (FullCalendar)                │  (상세 편집)      │
│              │                                  │                   │
│ [미니 캘린더]│  - 주간 뷰 (기본)                │  [일정 상세 폼]   │
│ [카테고리]   │  - 드래그 생성                   │  - 제목           │
│              │  - 드래그 이동                   │  - 카테고리       │
│              │  - 리사이즈                      │  - 시간 설정      │
│              │  - 실시간 동기화                 │  - 반복 설정      │
└──────────────┴──────────────────────────────────┴───────────────────┘
```

---

## ✨ 핵심 기능

### 1. 드래그로 일정 생성 (Click-and-Drag)

**사용법:**
1. 주간/일간 뷰에서 빈 시간 슬롯을 **클릭하고 드래그**
2. 드래그를 놓는 즉시 **우측 사이드바가 자동으로 열림**
3. 제목 입력 시 **캘린더 블록이 실시간으로 업데이트**
4. 저장 버튼을 눌러 DB에 저장

**특징:**
- 최소 1시간 길이 자동 설정 (시간 뷰)
- 드래그 중 미리보기 표시
- 제목 입력 필드에 자동 포커스

---

### 2. 실시간 양방향 데이터 바인딩

**폼 → 캘린더 (Form to Calendar):**
- 제목 타이핑 시 → 캘린더 블록 제목 즉시 변경
- 카테고리 변경 시 → 캘린더 블록 색상 즉시 변경
- 시간 수정 시 → 캘린더 블록 위치/크기 즉시 변경

**캘린더 → 폼 (Calendar to Form):**
- 캘린더 블록 드래그 시 → 폼의 시작/종료 시간 즉시 업데이트
- 캘린더 블록 리사이즈 시 → 폼의 종료 시간 즉시 업데이트

**사용 예시:**
```
1. 드래그로 새 일정 생성
2. "팀 미팅" 타이핑 → 캘린더에 "팀 미팅" 즉시 표시
3. 카테고리를 "공부" → "운동"으로 변경 → 블록 색상 즉시 변경
4. 시간을 14:00 → 15:00으로 변경 → 블록이 15시로 이동
```

---

### 3. 일정 편집

**드래그로 이동:**
- 일정 블록을 **드래그하여 다른 시간/날짜로 이동**
- 시스템 일정 (학사일정, 공휴일)은 이동 불가

**리사이즈로 기간 조절:**
- 일정 블록의 **상단/하단 경계를 드래그**하여 시작/종료 시간 조절

**클릭으로 상세 편집:**
- 일정 블록 클릭 → 우측 사이드바에서 전체 정보 수정

---

### 4. 키보드 단축키

| 단축키 | 기능 |
|--------|------|
| **N** | 새 일정 추가 (오늘 날짜) |
| **T** | 오늘로 이동 |
| **W** | 주간 뷰로 전환 |
| **M** | 월간 뷰로 전환 |
| **D** | 일간 뷰로 전환 |
| **←** | 이전 주/월/일로 이동 |
| **→** | 다음 주/월/일로 이동 |
| **ESC** | 패널/모달 닫기 |

**참고:** 입력 필드에 포커스가 있을 때는 단축키가 작동하지 않습니다.

---

### 5. 카테고리 관리

**기본 카테고리:**
- 🟢 학사일정 (시스템, 삭제 불가)
- 🔴 공휴일 (시스템, 삭제 불가)
- 🔵 개인
- 🟣 공부
- 🟠 운동
- 🌸 약속

**카테고리 추가:**
1. 좌측 네비게이터에서 **"+ 추가"** 버튼 클릭
2. 이름과 색상 선택
3. 저장

**카테고리 표시/숨김:**
- 카테고리 항목 클릭 → 체크박스 토글
- 숨긴 카테고리의 일정은 캘린더에 표시되지 않음

---

### 6. 반복 일정

**반복 유형:**
- 매일 (Daily)
- 매주 (Weekly)
- 매월 (Monthly)
- 매년 (Yearly)

**반복 종료 날짜:**
- 지정한 날짜까지 반복
- 미지정 시 무한 반복

---

## 🎨 UI/UX 특징

### Notion 스타일 디자인
- 깔끔한 노션 색상 체계
- 부드러운 애니메이션
- 직관적인 3-pane 레이아웃

### 반응형 인터랙션
- 모든 변경사항이 **즉시** 반영
- 드래그 중 미리보기 표시
- 부드러운 전환 효과

---

## 📱 뷰 모드

### 1. 주간 뷰 (timeGridWeek) - 기본
- 일주일을 7개 컬럼으로 표시
- 00:00 ~ 24:00 시간 슬롯
- 현재 시간 표시 (빨간 선)

### 2. 월간 뷰 (dayGridMonth)
- 한 달 전체를 그리드로 표시
- 날짜당 최대 3개 이벤트 표시
- 더보기 버튼으로 추가 이벤트 확인

### 3. 일간 뷰 (timeGridDay)
- 하루를 세밀하게 표시
- 시간별 일정 관리에 최적화

---

## 💾 데이터 저장

### 자동 저장
- **저장 버튼 클릭** 시 PostgreSQL DB에 즉시 저장
- 저장 전까지는 **임시 이벤트**로 표시
- 취소/ESC 시 임시 이벤트 자동 삭제

### 드래그/리사이즈 저장
- 드래그로 이동 시 → 즉시 DB 업데이트
- 리사이즈 시 → 즉시 DB 업데이트

---

## 🔒 접근 제어

### 시스템 일정
- 학사일정, 공휴일은 **읽기 전용**
- 이동, 수정, 삭제 불가
- 클릭 시 미리보기만 표시

### 개인 일정
- 본인이 생성한 일정만 수정/삭제 가능
- 다른 사용자의 일정은 표시되지 않음

---

## 🎯 사용 시나리오

### 시나리오 1: 빠른 일정 추가
1. 키보드 **N** 누름
2. 제목 입력 (예: "팀 미팅")
3. 카테고리 선택
4. Enter 또는 저장 버튼

### 시나리오 2: 정확한 시간 일정 추가
1. 주간 뷰에서 **14:00부터 15:00까지 드래그**
2. 우측 패널이 자동으로 열림
3. 제목 타이핑 → **실시간으로 캘린더에 반영**
4. 카테고리 변경 → **색상 즉시 변경**
5. 저장

### 시나리오 3: 일정 시간 조정
1. 일정 블록을 **드래그하여 다른 시간으로 이동**
2. 또는 블록 하단을 **드래그하여 종료 시간 연장**
3. 자동으로 DB에 저장됨

### 시나리오 4: 반복 일정 생성
1. 드래그로 일정 생성
2. 제목 입력 (예: "주간 회의")
3. 반복 유형: "매주" 선택
4. 반복 종료 날짜 설정 (예: 2025-12-31)
5. 저장

---

## 🐛 알려진 제약사항

1. **반복 일정**: 현재 단일 레코드로 저장됨 (향후 인스턴스 확장 예정)
2. **타임존**: KST 고정
3. **모바일**: 터치 제스처 부분 최적화 중

---

## 📊 기술 스택

| 계층 | 기술 |
|------|------|
| **Frontend** | Vanilla JavaScript, FullCalendar v6.1.10 |
| **Backend** | Flask, SQLAlchemy |
| **Database** | PostgreSQL |
| **UI Framework** | 노션 스타일 커스텀 CSS |

---

## 🎓 개발 배경

이 캘린더 시스템은 다음 목표를 달성하기 위해 개발되었습니다:

1. **Notion 캘린더 수준의 UX**: 직관적이고 빠른 인터랙션
2. **실시간 양방향 바인딩**: 폼과 캘린더의 완벽한 동기화
3. **드래그로 생성**: 마우스만으로 빠르게 일정 생성
4. **견고한 아키텍처**: 오류 없는 상태 관리

---

## 📞 문의

질문이나 버그 리포트는 이슈 트래커에 등록해주세요.

---

**Made with ❤️ by Claude Code**
